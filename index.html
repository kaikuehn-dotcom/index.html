<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>BRL ‚Üî EUR Vergleich</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="BRL‚ÜîEUR">

<style>
:root{
  --bg:#f4f6f8;
  --card:#ffffff;
  --accent:#2563eb;
  --best:#e9fbf0;
  --border:#dcdfe4;
  --input:#eef2ff;
}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
  background:var(--bg);
  color:#111;
}
.app{
  max-width:820px;
  margin:auto;
  padding:16px;
}
h1{
  font-size:22px;
  margin:10px 0 14px;
}
.card{
  background:var(--card);
  border-radius:14px;
  padding:14px;
  margin-bottom:14px;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
}
.card h2{
  font-size:16px;
  margin:0 0 10px;
}
label{
  display:block;
  font-size:13px;
  font-weight:600;
  margin:10px 0 4px;
}
input,select{
  width:100%;
  padding:12px;
  font-size:16px;
  border-radius:10px;
  border:2px solid var(--input);
  background:#fff;
}
input:focus,select:focus{
  outline:none;
  border-color:var(--accent);
}
.grid{
  display:grid;
  gap:12px;
}
@media(min-width:700px){
  .grid{grid-template-columns:1fr 1fr;}
}
table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}
th,td{
  padding:10px;
  border-bottom:1px solid var(--border);
  text-align:right;
}
th:first-child,td:first-child{text-align:left}
tr.best{background:var(--best)}
.badge{
  display:inline-block;
  background:#16a34a;
  color:#fff;
  font-size:12px;
  padding:4px 8px;
  border-radius:999px;
  margin-left:6px;
}
.small{
  font-size:12px;
  color:#555;
}
.top-best{
  border:2px solid #16a34a;
}
</style>
</head>

<body>
<div class="app">

<select id="lang">
  <option value="de">Deutsch</option>
  <option value="en">English</option>
  <option value="pt">Portugu√™s</option>
</select>

<h1 id="title"></h1>

<!-- ZIEL -->
<div class="card">
  <h2 id="goalTitle"></h2>
  <div class="grid">
    <div>
      <label id="lblNet"></label>
      <input id="netBRL" type="number" value="5000">
    </div>
    <div>
      <label id="lblEur"></label>
      <input id="eurBudget" type="number" value="0">
    </div>
  </div>
  <p class="small" id="goalHint"></p>
</div>

<!-- OPTIONEN -->
<div id="optionInputs"></div>

<!-- BESTE OPTION -->
<div class="card top-best" id="bestCard">
  <h2>üèÜ <span id="bestTitle"></span></h2>
  <div id="bestText"></div>
</div>

<!-- VERGLEICH -->
<div class="card">
<table>
<thead>
<tr>
  <th id="tOption"></th>
  <th id="tWithdrawals"></th>
  <th id="tEur"></th>
  <th id="tEff"></th>
</tr>
</thead>
<tbody id="results"></tbody>
</table>
</div>

<p class="small" id="footer"></p>

</div>

<script>
const TEXT={
de:{
 title:"BRL ‚Üî EUR Abhebungs-Vergleich",
 goal:"Ziel definieren",
 net:"Netto BRL gew√ºnscht",
 eur:"ODER EUR Budget (Netto BRL = 0)",
 hint:"Gib entweder ein BRL-Ziel ODER ein EUR-Budget ein.",
 option:"Option",
 with:"Abhebungen",
 eurRes:"EUR n√∂tig",
 eff:"Effektiver Kurs",
 best:"Beste Option",
 footer:"Sortiert von bester zu schlechtester Option"
},
en:{
 title:"BRL ‚Üî EUR Withdrawal Comparison",
 goal:"Define your goal",
 net:"Net BRL desired",
 eur:"OR EUR budget (Net BRL = 0)",
 hint:"Enter either a BRL target OR an EUR budget.",
 option:"Option",
 with:"Withdrawals",
 eurRes:"EUR needed",
 eff:"Effective rate",
 best:"Best option",
 footer:"Sorted from best to worst option"
},
pt:{
 title:"Compara√ß√£o de Saque BRL ‚Üî EUR",
 goal:"Defina o objetivo",
 net:"BRL l√≠quido desejado",
 eur:"OU or√ßamento em EUR (BRL = 0)",
 hint:"Informe BRL desejado OU or√ßamento em EUR.",
 option:"Op√ß√£o",
 with:"Saques",
 eurRes:"EUR necess√°rio",
 eff:"C√¢mbio efetivo",
 best:"Melhor op√ß√£o",
 footer:"Ordenado da melhor para a pior op√ß√£o"
}
};

const OPTIONS=[
 {name:"N26 ATM",rate:6.36,atm:25,limit:2500,pct:1.7},
 {name:"Wise",rate:6.20,atm:0,limit:999999,pct:0.6}
];

function ui(){
 const l=lang.value;
 title.innerText=TEXT[l].title;
 goalTitle.innerText=TEXT[l].goal;
 lblNet.innerText=TEXT[l].net;
 lblEur.innerText=TEXT[l].eur;
 goalHint.innerText=TEXT[l].hint;
 tOption.innerText=TEXT[l].option;
 tWithdrawals.innerText=TEXT[l].with;
 tEur.innerText=TEXT[l].eurRes;
 tEff.innerText=TEXT[l].eff;
 bestTitle.innerText=TEXT[l].best;
 footer.innerText=TEXT[l].footer;
}

function renderOptions(){
 optionInputs.innerHTML="";
 OPTIONS.forEach((o,i)=>{
  optionInputs.innerHTML+=`
  <div class="card">
    <h2>${o.name}</h2>
    <div class="grid">
      <div><label>Kurs</label><input type="number" value="${o.rate}" oninput="OPTIONS[${i}].rate=this.value;calc()"></div>
      <div><label>Bank %</label><input type="number" value="${o.pct}" oninput="OPTIONS[${i}].pct=this.value;calc()"></div>
      <div><label>ATM Geb√ºhr (BRL)</label><input type="number" value="${o.atm}" oninput="OPTIONS[${i}].atm=this.value;calc()"></div>
      <div><label>ATM Limit</label><input type="number" value="${o.limit}" oninput="OPTIONS[${i}].limit=this.value;calc()"></div>
    </div>
  </div>`;
 });
}

function calc(){
 const net=+netBRL.value;
 const rows=OPTIONS.map(o=>{
  const n=Math.ceil(net/o.limit);
  const eur=((net+n*o.atm)/o.rate)*(1+o.pct/100);
  return{...o,n,eur,eff:net/eur};
 }).sort((a,b)=>b.eff-a.eff);

 results.innerHTML="";
 rows.forEach((r,i)=>{
  results.innerHTML+=`
   <tr class="${i===0?'best':''}">
    <td>${r.name}${i===0?'<span class="badge">BEST</span>':''}</td>
    <td>${r.n}</td>
    <td>${r.eur.toFixed(2)}</td>
    <td>${r.eff.toFixed(3)}</td>
   </tr>`;
 });

 const b=rows[0];
 bestText.innerHTML=`
   <p><b>${b.name}</b></p>
   <p>${b.n} Abhebungen ¬∑ ${b.eur.toFixed(2)} EUR</p>
   <p>Effektiver Kurs: <b>${b.eff.toFixed(3)}</b></p>`;
}

lang.onchange=()=>{ui();calc()};
document.querySelectorAll("input").forEach(i=>i.oninput=calc);

ui();renderOptions();calc();
</script>

</body>
</html>
